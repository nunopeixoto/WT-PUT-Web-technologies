{"remainingRequest":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\src\\views\\CreateLibrary.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\src\\views\\CreateLibrary.vue","mtime":1546718105672},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _Object$keys from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LibraryService from '@/services/LibraryService';\nimport { mapState } from 'vuex';\nexport default {\n  computed: _objectSpread({}, mapState(['user'])),\n  data: function data() {\n    return {\n      library: {\n        name: null,\n        UserId: this.$store.state.user.id\n      },\n      error: null,\n      success: null,\n      dialog: false,\n      required: function required(value) {\n        return !!value || 'Required.';\n      }\n    };\n  },\n  methods: {\n    createLibrary: function () {\n      var _createLibrary = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var areAllFieldsFilledIn, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                this.error = null;\n                areAllFieldsFilledIn = _Object$keys(this.library).every(function (key) {\n                  return !!_this.library[key];\n                });\n\n                if (areAllFieldsFilledIn) {\n                  _context.next = 7;\n                  break;\n                }\n\n                this.error = 'Please fill all the required fields';\n                this.dialog = false;\n                return _context.abrupt(\"return\");\n\n              case 7:\n                _context.next = 9;\n                return LibraryService.create(this.library);\n\n              case 9:\n                response = _context.sent;\n                this.$store.dispatch('setLibrary', response.data);\n                this.$store.dispatch('setHasLibrary', true);\n                this.dialog = false;\n                this.success = \"\".concat(response.data.name, \" has been created\");\n                _context.next = 22;\n                break;\n\n              case 16:\n                _context.prev = 16;\n                _context.t0 = _context[\"catch\"](0);\n                alert(_context.t0);\n                this.success = null;\n                this.error = 'Some error happened. Please try again.';\n                this.dialog = false;\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 16]]);\n      }));\n\n      function createLibrary() {\n        return _createLibrary.apply(this, arguments);\n      }\n\n      return createLibrary;\n    }()\n  }\n};",{"version":3,"sources":["CreateLibrary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,OAAA,cAAA,MAAA,2BAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,QAAA,oBACA,QAAA,CAAA,CACA,MADA,CAAA,CADA,CADA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,MAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA,IALA;AAMA,MAAA,OAAA,EAAA,IANA;AAOA,MAAA,MAAA,EAAA,KAPA;AAQA,MAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,WAAA;AAAA;AARA,KAAA;AAUA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,qBAAA,KAAA,GAAA,IAAA;AACA,gBAAA,oBAJA,GAIA,aACA,KAAA,OADA,EAEA,KAFA,CAEA,UAAA,GAAA;AAAA,yBAAA,CAAA,CAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA;AAAA,iBAFA,CAJA;;AAAA,oBAOA,oBAPA;AAAA;AAAA;AAAA;;AAQA,qBAAA,KAAA,GAAA,qCAAA;AACA,qBAAA,MAAA,GAAA,KAAA;AATA;;AAAA;AAAA;AAAA,uBAYA,cAAA,CAAA,MAAA,CAAA,KAAA,OAAA,CAZA;;AAAA;AAYA,gBAAA,QAZA;AAaA,qBAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,QAAA,CAAA,IAAA;AACA,qBAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,IAAA;AACA,qBAAA,MAAA,GAAA,KAAA;AAEA,qBAAA,OAAA,aAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AAjBA;AAAA;;AAAA;AAAA;AAAA;AAoBA,gBAAA,KAAA,aAAA;AACA,qBAAA,OAAA,GAAA,IAAA;AACA,qBAAA,KAAA,GAAA,wCAAA;AACA,qBAAA,MAAA,GAAA,KAAA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAlBA,CAAA","sourcesContent":["<script>/*eslint-disable */ </script>\r\n<template>\r\n  <v-container fill-height fluid grid-list-xl>\r\n    <v-layout justify-center wrap>\r\n      <v-flex xs12 md8>\r\n        <material-card color=\"green\" title=\"Register\">\r\n          <v-form>\r\n            <v-container py-0>\r\n              <v-layout wrap>\r\n                <v-flex xs12 md12>\r\n                    <v-text-field label=\"Library name\"  required :rules=\"[required]\" v-model=\"library.name\"></v-text-field>\r\n                </v-flex>\r\n                \r\n                <v-alert v-if=\"success\" :value=\"true\" type=\"success\">\r\n                  {{success}}.\r\n                </v-alert>\r\n                <v-alert  v-if=\"error\" :value=\"true\" type=\"error\">\r\n                 {{error}}\r\n                </v-alert>\r\n                <v-flex xs12 text-xs-right>\r\n                  <v-btn class=\"mx-0 font-weight-light\" @click=\"dialog = true\" color=\"success\">\r\n                    Create library\r\n                  </v-btn>\r\n                </v-flex>\r\n              </v-layout>\r\n              <v-layout row justify-center>\r\n                <v-dialog v-model=\"dialog\" persistent max-width=\"290\">\r\n                    <v-card>\r\n                        <v-card-title class=\"headline\">Warning</v-card-title>\r\n                        <v-card-text>Are you sure you want to create {{library.name}} library?</v-card-text>\r\n                        <v-card-actions>\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn color=\"green darken-1\" flat @click=\"createLibrary\">Yes</v-btn>\r\n                            <v-btn color=\"green darken-1\" flat @click=\"dialog = false\">No</v-btn>\r\n                        </v-card-actions>\r\n                    </v-card>\r\n                </v-dialog>\r\n               </v-layout>\r\n            </v-container>\r\n          </v-form>\r\n        </material-card>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n  import LibraryService from '@/services/LibraryService'\r\n  import {mapState} from 'vuex'\r\n  export default {\r\n      computed: {\r\n        ...mapState([\r\n          'user'\r\n        ])\r\n      },\r\n      data() {\r\n        return {\r\n          library: {\r\n            name: null,\r\n            UserId: this.$store.state.user.id,\r\n          },\r\n          error: null,\r\n          success: null,\r\n          dialog: false,\r\n          required: (value) => !!value || 'Required.'\r\n        }\r\n      },\r\n      methods: {\r\n        async createLibrary() {\r\n          try {\r\n            this.error = null\r\n            const areAllFieldsFilledIn = Object\r\n            .keys(this.library)\r\n            .every(key => !!this.library[key])\r\n            if (!areAllFieldsFilledIn){\r\n              this.error= 'Please fill all the required fields'\r\n              this.dialog = false\r\n              return\r\n            }\r\n            const response = await LibraryService.create(this.library)\r\n            this.$store.dispatch('setLibrary', response.data)\r\n            this.$store.dispatch('setHasLibrary', true)\r\n            this.dialog = false\r\n            \r\n            this.success = `${response.data.name} has been created`\r\n\r\n          } catch (error) {\r\n            alert(error)\r\n            this.success = null\r\n            this.error = 'Some error happened. Please try again.'\r\n            this.dialog = false\r\n          }\r\n        }\r\n      }\r\n  }\r\n</script>"],"sourceRoot":"src\\views"}]}
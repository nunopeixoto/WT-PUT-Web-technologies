{"remainingRequest":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\src\\views\\AddBookAutomaticPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\src\\views\\AddBookAutomaticPanel.vue","mtime":1546789295957},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _classCallCheck from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport _JSON$stringify from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BookService from '@/services/BookService';\nimport _ from 'lodash';\nexport default {\n  data: function data() {\n    return {\n      search: '',\n      dbContainer: true,\n      apiContainer: false,\n      bookListDb: [],\n      bookListApi: []\n    };\n  },\n  methods: {\n    find: function () {\n      var _find = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return BookService.findBook(this.search.text);\n\n              case 3:\n                response = _context.sent;\n                console.log(_JSON$stringify(response));\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 7]]);\n      }));\n\n      function find() {\n        return _find.apply(this, arguments);\n      }\n\n      return find;\n    }(),\n    changeContainers: function changeContainers() {\n      if (this.apiContainer === false) {\n        this.apiContainer = true;\n        this.dbContainer = false;\n      } else {\n        this.apiContainer = false;\n        this.dbContainer = true;\n      }\n    }\n  },\n  watch: {\n    search: _.debounce(\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(value) {\n        var route, results, i, obj, BookId, URL, dbbook, resultsApi, cenas, authorsString, newBookApi;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.bookListDb = [];\n                this.bookListApi = [];\n                route = {\n                  path: 'add-book?tab=1'\n                };\n\n                if (!(this.search !== '')) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                //only proceed if search is not empty\n                route.query = {\n                  search: this.search\n                };\n                this.$router.push(route); //puts search text on the query (URL)\n                //Search DB\n\n                _context2.next = 8;\n                return BookService.search(this.search);\n\n              case 8:\n                results = _context2.sent.data;\n\n                //search the db for books with same title\n                for (i = 0; i < results.length; i++) {\n                  obj = results[i];\n                  BookId = obj['id'];\n                  URL = \"http://localhost:8080/add-book/\".concat(BookId, \"?tab=0\");\n                  dbbook = new Book(obj['title'], URL, obj['authors'], obj['thumbnailUrl']);\n                  this.bookListDb.push(dbbook); //add new book to the array\n                } //SEARCH API\n\n\n                _context2.next = 12;\n                return BookService.searchApi(this.search);\n\n              case 12:\n                resultsApi = _context2.sent.data;\n\n                //search the db for books with same title\n                for (i = 0; i < resultsApi.length; i++) {\n                  obj = resultsApi[i]; //alert(JSON.stringify(obj))\n                  // alert('cqdqdq'+obj['title'])\n                  // var BookId = obj['id']\n\n                  cenas = Buffer.from(_JSON$stringify(obj)).toString('base64');\n                  URL = \"http://localhost:8080/add-book/api/\".concat(cenas);\n                  authorsString = _JSON$stringify(obj['authors']).replace(/\"/g, '').replace(/\\[/, '').replace(/\\]/, ''); //remove all brackets and quotations marks from string\n\n                  newBookApi = new Book(obj['title'], URL, authorsString, obj['thumbnail']);\n                  this.bookListApi.push(newBookApi); //add new book to the array\n                  // alert(obj['title']+URL)\n                }\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), 700),\n    '$route.query.search': {\n      //puts the text of the query in the search textfield\n      immediate: true,\n      handler: function () {\n        var _handler = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee3(value) {\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  this.search = value;\n\n                case 1:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }));\n\n        function handler(_x2) {\n          return _handler.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }\n  },\n  computed: {\n    filteredListDb: function filteredListDb() {\n      var _this = this;\n\n      return this.bookListDb.filter(function (book) {\n        return book.title.toLowerCase().includes(_this.search.toLowerCase());\n      });\n    },\n    filteredListApi: function filteredListApi() {\n      var _this2 = this;\n\n      return this.bookListApi.filter(function (book) {\n        return book.title.toLowerCase().includes(_this2.search.toLowerCase());\n      });\n    }\n  }\n};\n\nvar Book = function Book(title, link, author, img) {\n  _classCallCheck(this, Book);\n\n  this.title = title;\n  this.link = link;\n  this.author = author;\n  this.img = img;\n};",{"version":3,"sources":["AddBookAutomaticPanel.vue"],"names":[],"mappings":"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","sourcesContent":["<script> /* eslint-disable */ </script>\r\n<template>\r\n<panel title=\"Add book automatically\">\r\n  <v-form>\r\n    <v-container>\r\n      <v-layout row wrap>\r\n        <v-flex xs6 offset-xs3 >\r\n            <div class=\"search-wrapper\">\r\n            <h3> Search book </h3>\r\n            <v-text-field label=\"Search by title or author\" v-model=\"search\"></v-text-field>\r\n            <v-btn dark class=\"cyan\" @click=\"changeContainers\"> Didn't find what you were looking for? </v-btn>\r\n  </div>\r\n  <br>\r\n  <v-container v-if=\"this.dbContainer\">\r\n  <h3> Books added by other users</h3>\r\n  <div class=\"wrapper\">\r\n    <div class=\"card\" v-for=\"book in filteredListDb\" :key=\"book.title\">\r\n      <small>Author(s): {{ book.author }}</small>\r\n      <a v-bind:href=\"book.link\" target=\"_blank\">\r\n        <img v-bind:src=\"book.img\"/>\r\n        {{ book.title }}\r\n      </a>\r\n    </div>\r\n  </div>\r\n  </v-container>\r\n  <v-container v-if=\"this.apiContainer\">\r\n    <h3> Books on our database </h3>\r\n  <div class=\"wrapper\">\r\n    <div class=\"card\" v-for=\"book in filteredListApi\" :key=\"book.title\">\r\n      <small>Author(s): {{ book.author }}</small>\r\n      <a v-bind:href=\"book.link\" target=\"_blank\">\r\n        <img v-bind:src=\"book.img\"/>\r\n        {{ book.title }}\r\n      </a>\r\n    </div>\r\n  </div>\r\n  <v-btn dark class=\"cyan\" router to='newbookmanually'> Still can't find it? Add it manually </v-btn>\r\n  </v-container>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </v-form>\r\n</panel>\r\n</template>\r\n\r\n<script>\r\nimport BookService from '@/services/BookService'\r\nimport _ from 'lodash'\r\nexport default {\r\n  data () {\r\n    return {\r\n      search: '',\r\n      dbContainer: true,\r\n      apiContainer: false,\r\n      bookListDb : [],\r\n      bookListApi : []\r\n    }\r\n  },\r\n  methods: {\r\n    async find() {\r\n        try {\r\n            const response = await BookService.findBook(this.search.text)\r\n            console.log(JSON.stringify(response))\r\n        } catch (error) {\r\n            console.log(error)\r\n        }        \r\n    },\r\n    changeContainers () {\r\n      if(this.apiContainer === false){\r\n        this.apiContainer = true\r\n        this.dbContainer = false\r\n      } else {\r\n        this.apiContainer = false\r\n        this.dbContainer = true\r\n      }\r\n    }\r\n  },\r\n  watch : {\r\n    search: _.debounce(async function (value) {\r\n      this.bookListDb = []\r\n      this.bookListApi = []\r\n      const route = {\r\n        path : 'add-book?tab=1'\r\n      }\r\n      if (this.search !== '') { //only proceed if search is not empty\r\n\r\n        route.query = {\r\n          search: this.search               \r\n        }\r\n        this.$router.push(route)        //puts search text on the query (URL)\r\n        //Search DB\r\n        const results = (await BookService.search(this.search)).data  //search the db for books with same title\r\n        for (var i = 0; i < results.length; i++){\r\n          var obj = results[i]\r\n          var BookId = obj['id']\r\n          var URL = `http://localhost:8080/add-book/${BookId}?tab=0`\r\n          var dbbook = new Book(\r\n              obj['title'],\r\n              URL, \r\n              obj['authors'],\r\n              obj['thumbnailUrl']\r\n          )\r\n          this.bookListDb.push(dbbook)       //add new book to the array\r\n        }\r\n        //SEARCH API\r\n        const resultsApi = (await BookService.searchApi(this.search)).data  //search the db for books with same title\r\n        for (var i = 0; i < resultsApi.length; i++){\r\n          var obj = resultsApi[i]\r\n          //alert(JSON.stringify(obj))\r\n         // alert('cqdqdq'+obj['title'])\r\n          // var BookId = obj['id']\r\n          const cenas = Buffer.from(JSON.stringify(obj)).toString('base64')\r\n          var URL = `http://localhost:8080/add-book/api/${cenas}`\r\n          var authorsString = JSON.stringify(obj['authors']).replace(/\"/g,'').replace(/\\[/,'').replace(/\\]/, '') //remove all brackets and quotations marks from string\r\n          var newBookApi = new Book(\r\n              obj['title'],\r\n              URL, \r\n              authorsString,\r\n              obj['thumbnail']\r\n          )\r\n          this.bookListApi.push(newBookApi)       //add new book to the array\r\n         // alert(obj['title']+URL)\r\n        }\r\n      }\r\n      \r\n    }, 700),\r\n    '$route.query.search' : {    //puts the text of the query in the search textfield\r\n      immediate: true,\r\n      async handler (value) {\r\n        this.search = value\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    filteredListDb() {\r\n      return this.bookListDb.filter(book => {\r\n          return book.title.toLowerCase().includes(this.search.toLowerCase())\r\n      })\r\n    },\r\n    filteredListApi() {\r\n      return this.bookListApi.filter(book => {\r\n        return book.title.toLowerCase().includes(this.search.toLowerCase())\r\n      })\r\n    }\r\n  }\r\n}\r\nclass Book {\r\n  constructor(title, link, author, img) {\r\n    this.title = title;\r\n    this.link = link;\r\n    this.author = author;\r\n    this.img = img;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nhtml, body {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  margin-top: 16px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\ndiv#app {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  \r\n  .search-wrapper {\r\n    position: relative;\r\n    label {\r\n      position: absolute;\r\n      font-size: 12px;\r\n      color: rgba(0,0,0,.50);\r\n      top: 8px;\r\n      left: 12px;\r\n      z-index: -1;\r\n      transition: .15s all ease-in-out;\r\n    }\r\n    input {\r\n      padding: 4px 12px;\r\n      color: rgba(0,0,0,.70);\r\n      border: 1px solid rgba(0,0,0,.12);\r\n      transition: .15s all ease-in-out;\r\n      background: white;\r\n      &:focus {\r\n        outline: none;\r\n        transform: scale(1.05);\r\n        & + label  {\r\n          font-size: 10px;\r\n          transform: translateY(-24px) translateX(-12px);\r\n        }\r\n      }\r\n      &::-webkit-input-placeholder {\r\n          font-size: 12px;\r\n          color: rgba(0,0,0,.50);\r\n          font-weight: 100;\r\n      }\r\n    }\r\n  }\r\n\r\n  .wrapper {\r\n    display: flex;\r\n    //max-width: 444px;\r\n    width: 900px;\r\n    flex-wrap: wrap;\r\n    padding-top: 12px;\r\n  }\r\n\r\n  .card {\r\n    box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\r\n    max-width: 300px;\r\n    max-height: 300px;\r\n    margin: 12px;\r\n    transition: .15s all ease-in-out;\r\n    &:hover {\r\n      transform: scale(1.1);\r\n    }\r\n    a {\r\n      text-decoration: none;\r\n      padding: 12px;\r\n      color: #03A9F4;\r\n      font-size: 24px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      img {\r\n        height: 100px;\r\n      }\r\n      small {\r\n        font-size: 10px;\r\n        padding: 4px;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  .hotpink {\r\n    background: hotpink;\r\n  }\r\n\r\n  .green {\r\n    background: green;\r\n  }\r\n\r\n  .box {\r\n    width: 100px;\r\n    height: 100px;\r\n    border: 1px solid rgba(0,0,0,.12);\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\views"}]}
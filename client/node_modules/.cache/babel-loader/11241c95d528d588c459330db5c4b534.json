{"remainingRequest":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\src\\views\\ManageLibrary.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\src\\views\\ManageLibrary.vue","mtime":1546622528478},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nuno_\\Desktop\\vuetify-material-dashboard-v1.0.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$keys from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\nuno_\\\\Desktop\\\\vuetify-material-dashboard-v1.0.0\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport LibraryService from '@/services/LibraryService';\nimport { mapState } from 'vuex';\nexport default {\n  computed: _objectSpread({}, mapState(['user'])),\n  data: function data() {\n    return {\n      invitation: {\n        email: null\n      },\n      error: null,\n      dialog: false,\n      required: function required(value) {\n        return !!value || 'Required.';\n      }\n    };\n  },\n  methods: {\n    invite: function () {\n      var _invite = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var areAllFieldsFilledIn, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                this.error = null;\n                areAllFieldsFilledIn = _Object$keys(this.invitation).every(function (key) {\n                  return !!_this.invitation[key];\n                });\n\n                if (areAllFieldsFilledIn) {\n                  _context.next = 7;\n                  break;\n                }\n\n                this.error = 'Please fill all the required fields';\n                this.dialog = false;\n                return _context.abrupt(\"return\");\n\n              case 7:\n                _context.next = 9;\n                return LibraryService.invite({\n                  usernameInviter: this.$store.state.user.username,\n                  emailInvited: this.invitation.email,\n                  libraryId: this.$store.state.library.id\n                });\n\n              case 9:\n                response = _context.sent;\n                // this.$store.dispatch('setLibrary', response.data)\n                // this.$store.dispatch('setHasLibrary', true)\n                alert(response.data.message);\n                this.dialog = false; // this.$router.push({\n                //   name: 'dashboard'\n                // })\n\n                _context.next = 19;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](0);\n                alert(_context.t0);\n                alert('Some error happened. Please try again.');\n                this.dialog = false;\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 14]]);\n      }));\n\n      function invite() {\n        return _invite.apply(this, arguments);\n      }\n\n      return invite;\n    }()\n  }\n};",{"version":3,"sources":["ManageLibrary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,OAAA,cAAA,MAAA,2BAAA;AACA,SACA,QADA,QAEA,MAFA;AAGA,eAAA;AACA,EAAA,QAAA,oBACA,QAAA,CAAA,CACA,MADA,CAAA,CADA,CADA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OADA;AAIA,MAAA,KAAA,EAAA,IAJA;AAKA,MAAA,MAAA,EAAA,KALA;AAMA,MAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,WAAA;AAAA;AANA,KAAA;AAQA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,qBAAA,KAAA,GAAA,IAAA;AACA,gBAAA,oBAJA,GAIA,aACA,KAAA,UADA,EAEA,KAFA,CAEA,UAAA,GAAA;AAAA,yBAAA,CAAA,CAAA,KAAA,CAAA,UAAA,CAAA,GAAA,CAAA;AAAA,iBAFA,CAJA;;AAAA,oBAOA,oBAPA;AAAA;AAAA;AAAA;;AAQA,qBAAA,KAAA,GAAA,qCAAA;AACA,qBAAA,MAAA,GAAA,KAAA;AATA;;AAAA;AAAA;AAAA,uBAYA,cAAA,CAAA,MAAA,CAAA;AACA,kBAAA,eAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QADA;AAEA,kBAAA,YAAA,EAAA,KAAA,UAAA,CAAA,KAFA;AAGA,kBAAA,SAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA;AAHA,iBAAA,CAZA;;AAAA;AAYA,gBAAA,QAZA;AAkBA;AACA;AACA,gBAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,qBAAA,MAAA,GAAA,KAAA,CArBA,CAuBA;AACA;AACA;;AAzBA;AAAA;;AAAA;AAAA;AAAA;AA4BA,gBAAA,KAAA,aAAA;AACA,gBAAA,KAAA,CAAA,wCAAA,CAAA;AACA,qBAAA,MAAA,GAAA,KAAA;;AA9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAhBA,CAAA","sourcesContent":["<script>\n/*eslint-disable */\n</script>\n\n<template>\n  <v-container fill-height fluid grid-list-xl>\n    <v-layout justify-center wrap>\n      <v-flex xs12 md8>\n        <material-card color=\"green\" title=\"Manage Library\">\n          <v-form>\n            <v-container py-0>\n              <v-layout wrap>\n                <v-flex xs12 md12>\n                  <h4>Library: {{$store.state.library.name}} </h4>\n                  <v-btn dark class=\"cyan\" @click=\"dialog = true\">\n                    Invite someone\n                  </v-btn>\n                </v-flex>\n                <v-flex xs12 text-xs-right>\n                </v-flex>\n              </v-layout>\n              <v-layout row justify-center>\n                <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n                  <v-card>\n                    <v-card-title>\n                      <span class=\"headline\">Invite someone to {{$store.state.library.name}}</span>\n                    </v-card-title>\n                    <v-card-text>\n                      <v-container grid-list-md>\n                        <v-layout wrap>\n                          <v-flex xs12>\n                            <v-text-field label=\"Email\" required :rules=\"[required]\" v-model=\"invitation.email\"></v-text-field>\n                          </v-flex>\n                        </v-layout>\n                      </v-container>\n                    </v-card-text>\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn color=\"blue darken-1\" flat @click=\"dialog = false\">Close</v-btn>\n                      <v-btn color=\"blue darken-1\" flat @click=\"invite\">Save</v-btn>\n                    </v-card-actions>\n                  </v-card>\n                </v-dialog>\n              </v-layout>\n            </v-container>\n          </v-form>\n        </material-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\n  import LibraryService from '@/services/LibraryService'\n  import {\n    mapState\n  } from 'vuex'\n  export default {\n    computed: {\n      ...mapState([\n        'user'\n      ])\n    },\n    data() {\n      return {\n        invitation: {\n          email: null\n        },\n        error: null,\n        dialog: false,\n        required: (value) => !!value || 'Required.'\n      }\n    },\n    methods: {\n      async invite() {\n        try {\n          this.error = null\n          const areAllFieldsFilledIn = Object\n            .keys(this.invitation)\n            .every(key => !!this.invitation[key])\n          if (!areAllFieldsFilledIn) {\n            this.error = 'Please fill all the required fields'\n            this.dialog = false\n            return\n          }\n          const response = await LibraryService.invite({\n            usernameInviter: this.$store.state.user.username,\n            emailInvited: this.invitation.email,\n            libraryId: this.$store.state.library.id\n          })\n  \n          // this.$store.dispatch('setLibrary', response.data)\n          // this.$store.dispatch('setHasLibrary', true)\n          alert(response.data.message)\n          this.dialog = false\n  \n          // this.$router.push({\n          //   name: 'dashboard'\n          // })\n  \n        } catch (error) {\n          alert(error)\n          alert('Some error happened. Please try again.')\n          this.dialog = false\n        }\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"src\\views"}]}